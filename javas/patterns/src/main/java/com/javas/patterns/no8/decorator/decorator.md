Decorator 装饰者

# 需求
星巴克提供不同种类的咖啡和咖啡的调料。
星巴克需要一些类来描述他们并且能计算出任意一种咖啡和任意集中调料搭配在一起的价格。

# round1
我觉得吧，大部分人可能都不大会多少种组合写多少个类，所以写这种例子了啊。
那么，分析一下，明说可，不同种类的咖啡，所以：
1、需要有个咖啡的基类。
2、多种咖啡的实现，比如：拿铁、美式、卡布基诺等。

然后有个要求啊，不同的调料，每种调料有不同的价格，那么：
1、需要个调料的基类。
2、多种调料的实现，比如：糖、牛奶、冰块等。

再者，调料是加到咖啡里的，所以再来个聚合，咖啡实例持有一个调料列表。

于是有了 round1 的实现。

这种实现方式上，coffee 和 condiment 是相对独立的，只是在 coffee 内部维护了一个 confiment 的聚合，之后随意扩展就好了。

但问题是，coffee 需要感知 condiment 的存在，加入除了调料外还需要加其他的附加属性，就又要改 coffee 了。

# round2
装饰者的套路是怎样的呢？

很显然，咖啡是 "被装饰者" 而调料是 "装饰者"，还可能有其他的装饰者。

按装饰者设计模式的套路来说，装饰者是在被装饰者类外部进行被装饰者内容/能力的扩展的，被装饰者可以不感知装饰者的存在。

所以，其实是把 调料从 咖啡类里摘出去，在咖啡类外部用调料类聚合咖啡。

其实不难，只是有点别扭，也许是举的例子不合适？？？


# 思考
装饰者模式比继承或聚合提供了更大的灵活性，也更加复杂。


# 应用
Java I/O 库中有装饰者模式的应用。
FilterInputStream 就是 InputStream 的抽象装饰者。
参考：https://www.cnblogs.com/god_bless_you/archive/2010/06/10/1755212.html


### 意图
### 核心角色
### 适用场景

